![[Pasted image 20250512142001.png]]

зависимости должны быть в репозитории (центральном, удаленном или локальном)
путь к зависимости складывается из groupID/artifactID/version
если зависимости нет в локальным будет использован центральный или другой указанный в ParentPOM (который существует всегда, даже если явно не указан, используется дефолтный superPOM https://maven.apache.org/guides/introduction/introduction-to-the-pom.html)

Файл конфигурации: {user_home_dir}/.m2/settings.xml 
Локальный репозиторий: {user_home_dir}/.m2/repository



//=====================
Указание класса для запуска 
![[Pasted image 20250512142532.png]]

//=====================
JAR HELL
существует проблема несовместимости версий библиотек, например когда две зависимости используют разные версии одной библиотеки и они не совместимы друг с другом, в этом случае проект скомпилируется, но в рантайме когда код обратиться к библиотекам которые упакованы рядом с jar или war Он может например не найти нужный класс и тогда будет ошибка.
Подобные ошибки помогает отследить enforcer plugin
https://maven.apache.org/enforcer/index.html

пример подключения плагина
![[Pasted image 20250512144142.png]]


пример работы 
![[Pasted image 20250512144217.png]]

в m2-shade лежит m1-maven а в ней my-lib1.0
и отдельно в m2-shade лежит my-lib2.0 
которые конфликтуют 

пример решения 
можно отдельно прописать чтобы для какой-то зависимости использовалась не та версия которая указана в pom артефакта, а та что отдельно указана в модуле который обращается к артефакту

тут в m2-shade для зависимости hikariCP (для работы которой требуется slf4j) будет использован не тот slf4j который лежит в pom hikari а тот slf4j который отдельной указан в модуле m2-shade
![[Pasted image 20250512144747.png]]
//=====================
Для создания толстого jar нужно добавить выделенные строчки 
тогда соберется 2 jar Тонкий и толстый

![[Pasted image 20250512145411.png]],


Если плагин не указать то будет использован мавен ассемблер плагин (из дефолтного пом) который соберет тонкий jar без указания main класса 

для указания структуры самого плагина надо смотреть документацию, тк там все очень не понятно
https://maven.apache.org/plugins/maven-shade-plugin/
![[Pasted image 20250512145556.png]]