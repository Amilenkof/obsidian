comparent and swap это про то что Atomic из пакета java.util.concurrent перед инкрементом сравнивают сначение с ранее считанным и меняют его только если они совпадает, если нет пробует заново считать и изменить

