## Что такое идемпотентность?

**Идемпотентность** (от лат. _idem_ — "тот же самый" + _potens_ — "способный") — это свойство операции, при котором многократное выполнение этой операции с одними и теми же параметрами дает **такой же результат**, как и при однократном выполнении.

### Простая аналогия

Представьте кнопку лифта:

- Вы нажимаете кнопку "5-й этаж" один раз — лифт едет на 5-й этаж
    
- Вы нажимаете эту же кнопку 10 раз подряд — лифт все равно приедет на 5-й этаж
    
- **Результат не изменился** от количества нажатий
    

А теперь представьте кнопку "добавить сахар в кофе":

- Первое нажатие — добавился 1 кусочек сахара
    
- Второе нажатие — добавился еще 1 кусочек, теперь всего 2
    
- **Результат изменился** — операция **НЕ** идемпотентна
    

## Идемпотентность в HTTP

В контексте REST API и HTTP-методов:

### **Идемпотентные методы:**

|Метод|Почему идемпотентен|
|---|---|
|**GET**|Получение данных. Сколько раз ни вызывай — данные не изменятся|
|**PUT**|Полная замена ресурса. Многократный вызов с теми же данными даст одинаковый результат|
|**DELETE**|Удаление ресурса. После первого удаления ресурса нет, последующие вызовы тоже возвращают "ресурс не найден"|
|**HEAD**|Как GET, но без тела ответа|
|**OPTIONS**|Получение информации о возможностях сервера|

### **НЕ идемпотентные методы:**

|Метод|Почему НЕ идемпотентен|
|---|---|
|**POST**|Создание нового ресурса. Каждый вызов создает новый объект|
|**PATCH**|Частичное обновление. Может изменять разные части ресурса при повторных вызовах|
